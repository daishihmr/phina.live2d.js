<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1,maximum-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta charset="UTF-8">
</head>

<body>
  <script src="https://s3-ap-northeast-1.amazonaws.com/cubism3.live2d.com/sdk/js_eap/live2dcubismcore.min.js"></script>
  <script src="https://rawgit.com/Live2D/CubismJsComponents/master/example/wwwroot/js/live2dcubismframework.js"></script>
  <script src="https://rawgit.com/phinajs/phina.js/develop/build/phina.js"></script>
  <script src="https://rawgit.com/toji/gl-matrix/v2.4.0/dist/gl-matrix.js"></script>
  <script src="../lib/phigl.js"></script>
  <script src="../build/phina.live2d.min.js"></script>
  <script>
  phina.globalize();

  phina.main(function() {
    var app = GameApp({
      backgroundColor: "#99bb10",
      startLabel: "main",
      width: 900,
      height: 1600,
      fps: 60,
      assets: {
        "live2d.moc": {
          // "Koharu": "assets/Koharu/Koharu.moc3",
          // "hiyori": "assets/hiyori/model.moc3",
          // "Mark": "assets/Mark/Mark.moc3",
          "mayu": "assets/mayu/model.moc3",
          "minami": "assets/minami/Minami_03.moc3",
        },
        "image": {
          // "Koharu0": "assets/Koharu/Koharu.png",
          // "hiyori0": "assets/hiyori/textures/texture_00.png",
          // "hiyori1": "assets/hiyori/textures/texture_01.png",
          // "Mark0": "assets/Mark/Mark.png",
          "mayu0": "assets/mayu/textures/texture_00.png",
          "mayu1": "assets/mayu/textures/texture_01.png",
          "minami0": "assets/minami/texture_00.png",
          "minami1": "assets/minami/texture_01.png",
        },
        "live2d.motion": {
          // "Koharu0": "assets/Koharu/Koharu.motion3.json",
          // "hiyori_m01": "assets/hiyori/motions/hiyori_m01.motion3.json",
          // "hiyori_m02": "assets/hiyori/motions/hiyori_m02.motion3.json",
          // "hiyori_m03": "assets/hiyori/motions/hiyori_m03.motion3.json",
          // "hiyori_m04": "assets/hiyori/motions/hiyori_m04.motion3.json",
          // "hiyori_m05": "assets/hiyori/motions/hiyori_m05.motion3.json",
          // "hiyori_m06": "assets/hiyori/motions/hiyori_m06.motion3.json",
          // "hiyori_m07": "assets/hiyori/motions/hiyori_m07.motion3.json",
          // "hiyori_m08": "assets/hiyori/motions/hiyori_m08.motion3.json",
          // "hiyori_m09": "assets/hiyori/motions/hiyori_m09.motion3.json",
          // "hiyori_m10": "assets/hiyori/motions/hiyori_m10.motion3.json",
          // "Mark": "assets/Mark/Mark.motion3.json",
          "mayuIdle": "assets/mayu/motions/idle.motion3.json",
          "minami8": "assets/minami/minami8.motion3.json",
        },
        "live2d.physics": {
          "mayu": "assets/mayu/Miyu_01.physics3.json",
          "minami": "assets/minami/Minami_03.physics3.json",
        },
      },
    });

    DisplayScene.defaults.width = app.canvas.width;
    DisplayScene.defaults.height = app.canvas.height;

    app.enableStats();
    app.run();
  });

  phina.define("MainScene", {
    superClass: "DisplayScene",
    init: function() {
      this.superInit();

      var live2dLayer = Live2DLayer({
        width: this.width,
        height: this.height,
        originX: 0,
        originY: 0,
      }).addChildTo(this);

      minami = Live2DSprite({
        moc: "minami",
        textures: ["minami0", "minami1"],
        physics: "minami",
      });
      minami.setScale(0.75);
      minami.setPosition(this.width * 0.5, this.height * 0.75);
      minami.addChildTo(live2dLayer);
      minami.play("minami8");
    },
  });
  </script>
</body>

</html>